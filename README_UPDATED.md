# نظام TIEC المحدث - دليل الاستخدام

## 🎉 تم تحديث النظام بنجاح!

تم إضافة الميزات الجديدة التالية:

### ✅ الميزات الجديدة المضافة:

1. **نظام Token الذكي**
   - كل مشارك يحصل على token فريد
   - إمكانية التسجيل باستخدام الـ token
   - حفظ البيانات تلقائياً

2. **QR Scanner للحضور**
   - صفحة `attendance_scanner.php`
   - مسح QR code أو إدخال الرقم القومي
   - تسجيل الحضور تلقائياً

3. **صفحة Token Login**
   - صفحة `token_login.php`
   - تسجيل الدخول بالـ token
   - عرض الخدمات المتاحة

4. **صفحة عرض التسجيلات**
   - صفحة `view_my_registrations.php`
   - عرض جميع تسجيلات المشارك
   - سجل الحضور

5. **إدارة التدريبات**
   - صفحة `admin/trainings_manager.php`
   - إضافة وتعديل التدريبات
   - ربط التدريبات بالمدربين

6. **إدارة الحضور**
   - صفحة `admin/attendance_manager.php`
   - تتبع الحضور والغياب
   - تصدير التقارير

### 🎯 أنواع الخدمات المتاحة:

1. **التقديم على التدريبات المتاحة (Training)**
   - تدريبات مهنية مع مدربين متخصصين
   - مواعيد ثابتة وسعة محدودة

2. **حجز استشارات فردية للافراد والشركات (Mentoring)**
   - جلسات استشارية للطلاب والخريجين والشركات
   - مواعيد مرنة حسب الحاجة

3. **حجز فترة عمل فى معمل التصنيع الرقمى (FabLab)**
   - حجز فترات عمل لتنفيذ المشاريع
   - معدات متاحة للاستخدام

4. **حجز مساحه عمل حرة (Co-Working Space)**
   - مساحات عمل للعمل المشترك والاجتماعات
   - فترات زمنية مرنة

## 🚀 كيفية الاستخدام:

### للمشاركين:

#### 1. التسجيل الجديد:
```
http://localhost/tiec-form/index.php
```

#### 2. تسجيل الدخول بالـ Token:
```
http://localhost/tiec-form/token_login.php
```

#### 3. عرض التسجيلات:
```
http://localhost/tiec-form/view_my_registrations.php
```

#### 4. تسجيل الحضور:
```
http://localhost/tiec-form/attendance_scanner.php
```

### للمديرين:

#### 1. إدارة التدريبات:
```
http://localhost/tiec-form/admin/trainings_manager.php
```

#### 2. إدارة الحضور:
```
http://localhost/tiec-form/admin/attendance_manager.php
```

#### 3. لوحة التحكم الرئيسية:
```
http://localhost/tiec-form/admin/index.php
```

## 📋 الملفات الجديدة المضافة:

### ملفات الواجهة الأمامية:
- `attendance_scanner.php` - QR Scanner للحضور
- `token_login.php` - تسجيل الدخول بالـ Token
- `view_my_registrations.php` - عرض التسجيلات

### ملفات لوحة التحكم:
- `admin/trainings_manager.php` - إدارة التدريبات
- `admin/trainings_ajax.php` - AJAX للتدريبات
- `admin/attendance_manager.php` - إدارة الحضور
- `admin/attendance_ajax.php` - AJAX للحضور

### ملفات قاعدة البيانات:
- `database_schema.sql` - هيكل قاعدة البيانات الجديد
- `update_database.php` - ملف تحديث قاعدة البيانات
- `system_scenario.txt` - سيناريو النظام
- `README_NEW_SYSTEM.md` - دليل النظام الجديد

## 🔧 كيفية التحديث:

### إذا كنت تريد تحديث نظام موجود:

1. **نسخ احتياطي:**
```bash
mysqldump -u root -p tiec_form > backup_before_update.sql
```

2. **تشغيل ملف التحديث:**
```bash
php update_database.php
```

3. **التحقق من التحديث:**
```bash
php check_database.php
```

### إذا كنت تريد إنشاء نظام جديد:

1. **إنشاء قاعدة البيانات:**
```sql
-- تشغيل ملف database_schema.sql في phpMyAdmin
```

2. **رفع الملفات:**
```bash
# رفع جميع الملفات إلى مجلد المشروع
```

3. **تعديل إعدادات قاعدة البيانات:**
```php
// تعديل ملف config/database.php
define('DB_HOST', 'localhost');
define('DB_NAME', 'tiec_form');
define('DB_USER', 'root');
define('DB_PASS', '');
```

## 📊 الميزات المتقدمة:

### 1. نظام Token:
- تشفير آمن للـ tokens
- صلاحية زمنية (30 يوم)
- إمكانية تجديد الـ token

### 2. QR Scanner:
- دعم جميع المتصفحات
- إمكانية إدخال الرقم القومي
- تحقق من صحة البيانات

### 3. إدارة التدريبات:
- ربط التدريبات بالمدربين
- تحديد المواعيد والسعة
- تتبع المشاركين

### 4. إدارة الحضور:
- تسجيل الحضور والغياب
- تقارير تفصيلية
- تصدير البيانات

## 🔒 الأمان:

### 1. حماية البيانات:
- تشفير الـ tokens
- التحقق من صحة المدخلات
- حماية من SQL Injection

### 2. صلاحيات المستخدمين:
- مديرين (إدارة كاملة)
- مدربين (إدارة التدريبات)
- مشاركين (تسجيل وحضور)

## 📈 التقارير والإحصائيات:

### 1. تقارير الحضور:
- تقرير يومي
- تقرير شهري
- تقرير حسب التدريب

### 2. إحصائيات النظام:
- عدد المشاركين
- عدد التدريبات
- معدل الحضور

## 🛠️ استكشاف الأخطاء:

### مشاكل شائعة:

1. **خطأ في قاعدة البيانات:**
```bash
# تشغيل ملف التحديث مرة أخرى
php update_database.php
```

2. **خطأ في QR Scanner:**
```bash
# التأكد من دعم HTTPS
# أو استخدام localhost
```

3. **خطأ في الـ Token:**
```bash
# التحقق من إعدادات الجلسة
# التأكد من صحة الـ cookies
```

## 📞 الدعم:

### للمساعدة التقنية:
- راجع ملف `system_scenario.txt`
- تحقق من ملف `README_NEW_SYSTEM.md`
- راجع ملف `database_schema.sql`

### للمشاكل:
1. تحقق من سجلات الخطأ
2. تأكد من إعدادات قاعدة البيانات
3. تحقق من صلاحيات الملفات

## 🎯 الخطوات التالية:

### المرحلة الأولى (مكتملة):
- ✅ تحديث قاعدة البيانات
- ✅ إنشاء الجداول الجديدة
- ✅ إضافة نظام الـ Token
- ✅ إنشاء QR Scanner

### المرحلة الثانية (قيد التنفيذ):
- 🔄 تحسين واجهة المستخدم
- 🔄 إضافة المزيد من التقارير
- 🔄 تحسين الأداء

### المرحلة الثالثة (مستقبلية):
- 📋 إضافة API
- 📋 تطبيق موبايل
- 📋 نظام إشعارات

## 🎉 الخلاصة:

النظام الجديد يوفر:
- ✅ مرونة أكبر في إدارة الخدمات
- ✅ نظام تسجيل ذكي وسريع
- ✅ تتبع الحضور الآلي
- ✅ واجهة مستخدم محسنة
- ✅ قاعدة بيانات منظمة وقابلة للتوسع
- ✅ أمان محسن
- ✅ تقارير تفصيلية

---

**تم التطوير بواسطة فريق TIEC**  
**تاريخ التحديث:** <?= date('Y-m-d') ?> 